Matrix Determinant PyUVM Testbench
This is a PyUVM-based testbench for the matrix_determinant Verilog module. The testbench verifies the functionality of a 3x3 matrix determinant calculator with overflow detection.
Architecture
The testbench follows a simple UVM architecture:

Input Agent: Drives matrix elements to the DUT

MatrixDriver: Drives mat_in, mat_valid signals
MatrixMonitor: Monitors input transactions
MatrixSequencer: Controls transaction flow


Output Agent: Monitors determinant results

DeterminantMonitor: Monitors det, det_valid, overflow signals


Scoreboard: Compares expected vs actual results

Calculates expected determinant values
Handles overflow/saturation checking
Validates timing relationships


Coverage Collector: Collects functional coverage

Matrix value ranges
Matrix types (identity, triangular, etc.)
Overflow conditions
Delay patterns



Files

matrix_det_types.py: Constants and type definitions
matrix_det_items.py: Transaction items (MatrixItem, DeterminantItem)
input_agent.py: Input interface agent components
output_agent.py: Output interface agent components
scoreboard.py: Result checking scoreboard
coverage_collector.py: Functional coverage collection
matrix_sequence.py: Test sequences
matrix_det_env.py: Top-level environment
test_matrix_det.py: Test cases and cocotb integration
Makefile: Build and simulation control

Prerequisites

Python 3.7+
cocotb
PyUVM
Icarus Verilog (or other supported simulator)

Install Python dependencies:
bashpip install cocotb pyuvm
Running Tests
Simple Test
bashmake simple
Random Test
bashmake random
Custom Test
bashmake TESTCASE=simple_matrix_test SIM=icarus WAVES=1
Test Cases

Simple Matrix Test: Uses known matrices (identity, simple patterns)
Random Matrix Test: Uses randomized matrix values

Key Features

Reset Handling: Proper reset sequence application
Clock Generation: Built-in clock generation for simulation
Overflow Detection: Validates saturation behavior for large determinants
Timing Validation: Checks that results arrive at expected times
Coverage Collection: Tracks matrix types and value distributions
Comprehensive Logging: UVM info messages for debugging

UVM Components Verification
The testbench includes UVM info messages in each component's build_phase and connect_phase to verify proper instantiation:

Input Agent: Driver, Monitor, Sequencer creation and connection
Output Agent: Monitor creation
Scoreboard: Input/output analysis port connections
Coverage Collector: Analysis port connections
Environment: All component instantiation and connection
Test: Environment creation and DUT handle assignment

Debugging

Waveforms are generated by default (matrix_det.vcd)
Use UVM_HIGH verbosity for detailed transaction logging
Check console output for component instantiation messages
Scoreboard reports mismatches with expected vs actual values

This architecture provides a solid foundation for verifying the matrix determinant module functionality while being simple enough to understand and extend.
